<ng-include src="'partials/header.html'" ng-controller ="headerCtrl"></ng-include>
<ng-include src="'partials/carousel.html'" ng-controller="CarouselCtrl"></ng-include>
<div ng-class="{Cprogress: waitingForInput}">

	<div class="row">
		<form id="search" style="margin-top:300px;text-align:center;margin-bottom:50px;">
		  	<div>
			    <input type="text" class="track-search-field" ng-model="query" placeholder="Search" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Search'">
			    <button class="track-search-btn" type="submit" ng-click="newSearch(query)">
                    <span class="glyphicon glyphicon-search"></span>
                </button>
		  	</div>
		</form>
	</div>

	<div class="row">
		<audio id="preview" type="audio/mpeg"/>
		<table class="table table-hover" style="margin-bottom:100px;text-align:center">
			<thead>
				<tr ng-if="results.length > 0">
					<td width="20%">Listen</td>
					<td width="20%">Track</td>
					<td width="20%">Artist</td>
					<td width="20%">Album</td>
					<td width="20%"></td>
			</thead>
			<tbody>
				<tr ng-repeat="track in results" style="height:70px" ng-click="">
					<td style="width:20%"><img ng-src="{{track.album.images[2].url}}" ng-mouseover="playIt(track.preview_url,track.id)" ng-mouseout="stopIt()" class="Cpointer" style="margin:0;z-index:0"/>
					<img src="img/speaker.png" height="50px" ng-class="{hide:playing == track.id}" style="position:relative;margin-left:-62px;margin-right:0;z-index:1"></td>
					<td style="width:20%"><h4><a href ng-click="newSearch(track.name)">{{track.name}}</a></h4></td>
					<td style="width:20%"><h4><a href ng-click="newSearch(track.artists[0].name, 'artist')">{{track.artists[0].name}}</a></h4></td>
					<td style="width:20%"><h4><a href ng-click="newSearch(track.album.name, 'album')">{{track.album.name}}</a></h4></td>
					<td style="width:20%"><h4><a href="#/track/{{track.id}}" class="btn btn-success">Add question</a></h4></td>
				</tr>
			</tbody>
			<tfoot>
				<tr>
					<td colspan="5" ng-if="status != ''">{{status}}</td>
				</tr>
			</tfoot>
		</table>
	</div>
</div>